"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{60810:function(e,n,t){t.d(n,{YF:function(){return k}});var r,l=t(7653);t(27573);var u=t(37552);t(3458);var f=t(24019);let o={...r||(r=t.t(l,2))},c=o.useInsertionEffect||(e=>e());var s="undefined"!=typeof document?l.useLayoutEffect:l.useEffect;let i=!1,a=0,d=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+a++,m=o.useId||function(){let[e,n]=l.useState(()=>i?d():void 0);return s(()=>{null==e&&n(d())},[]),l.useEffect(()=>{i=!0},[]),e},g=l.createContext(null),v=l.createContext(null),C=()=>{var e;return(null==(e=l.useContext(g))?void 0:e.id)||null},R=()=>l.useContext(v);function k(e){void 0===e&&(e={});let{nodeId:n}=e,t=function(e){let{open:n=!1,onOpenChange:t,elements:r}=e,u=m(),f=l.useRef({}),[o]=l.useState(()=>(function(){let e=new Map;return{emit(n,t){var r;null==(r=e.get(n))||r.forEach(e=>e(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var r;e.set(n,(null==(r=e.get(n))?void 0:r.filter(e=>e!==t))||[])}}})()),s=null!=C(),[i,a]=l.useState(r.reference),d=function(e){let n=l.useRef(()=>{});return c(()=>{n.current=e}),l.useCallback(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}((e,n,r)=>{f.current.openEvent=e?n:void 0,o.emit("openchange",{open:e,event:n,reason:r,nested:s}),null==t||t(e,n,r)}),g=l.useMemo(()=>({setPositionReference:a}),[]),v=l.useMemo(()=>({reference:i||r.reference||null,floating:r.floating||null,domReference:r.reference}),[i,r.reference,r.floating]);return l.useMemo(()=>({dataRef:f,open:n,onOpenChange:d,elements:v,events:o,floatingId:u,refs:g}),[n,d,v,o,u,g])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,o=r.elements,[i,a]=l.useState(null),[d,g]=l.useState(null),v=(null==o?void 0:o.domReference)||i,k=l.useRef(null),E=R();s(()=>{v&&(k.current=v)},[v]);let M=(0,f.YF)({...e,elements:{...o,...d&&{reference:d}}}),h=l.useCallback(e=>{let n=(0,u.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;g(n),M.refs.setReference(n)},[M.refs]),p=l.useCallback(e=>{((0,u.kK)(e)||null===e)&&(k.current=e,a(e)),((0,u.kK)(M.refs.reference.current)||null===M.refs.reference.current||null!==e&&!(0,u.kK)(e))&&M.refs.setReference(e)},[M.refs]),x=l.useMemo(()=>({...M.refs,setReference:p,setPositionReference:h,domReference:k}),[M.refs,p,h]),S=l.useMemo(()=>({...M.elements,domReference:v}),[M.elements,v]),b=l.useMemo(()=>({...M,...r,refs:x,elements:S,nodeId:n}),[M,x,S,n,r]);return s(()=>{r.dataRef.current.floatingContext=b;let e=null==E?void 0:E.nodesRef.current.find(e=>e.id===n);e&&(e.context=b)}),l.useMemo(()=>({...M,context:b,refs:x,elements:S}),[M,x,S,b])}}}]);