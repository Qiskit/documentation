---
title: Set up to use IBM Quantum Platform with REST API
description: Setup instructions for using IBM Quantum on IBM Cloud to submit Qiskit SDK and Qiskit Runtime jobs by using the REST API
platform: cloud
---

{/* cspell:ignore urlendcoded, WQVY */}

# Set up to use IBM Quantum Platform with REST API

You can access quantum processors with REST APIs, enabling you to work with QPUs using any programming language or framework.

### 1. Get access

1. If you do not already have a user account, get one at the [IBM Quantum login page.](https://quantum.cloud.ibm.com/login)
1. Create an API key (also called a token) on the [dashboard.](https://quantum.cloud.ibm.com) Note that the same API key can be used for either region.
1. Generate an IBM Cloud Identity and Access Management (IAM) bearer token by calling the [IAM Identity Services API](https://cloud.ibm.com/apidocs/iam-identity-token-api#create-api-key) as shown in the following sample request.
   <Admonition type="note" title="What is a bearer token?">
   A bearer token is a temporary credential that is used to authenticate requests to the REST API, and is generated by using your account's API key. It expires after no more than one hour. After the acquired token expires, you must generate a new one to continue calling IBM Cloud or other service APIs. You can only perform actions that are allowed by your level of assigned access within all accounts.

   Use the response property `expires_in` in the API response to identify the length of time that your specific access token is valid.
   </Admonition>
<Tabs>

   <TabItem value="Curl" label="Curl">
   ```bash
   curl -X POST 'https://iam.cloud.ibm.com/identity/token' \
   -H 'Content-Type: application/x-www-form-urlencoded' \
   -d 'grant_type=urn:ibm:params:oauth:grant-type:apikey&apikey=MY_APIKEY'
   ```
   Expected Response
   ```text
   {
      "access_token": "eyJhbGciOiJIUz......sgrKIi8hdFs",
      "refresh_token": "SPrXw5tBE3......KBQ+luWQVY=",
      "token_type": "Bearer",
      "expires_in": 3600,
      "expiration": 1473188353
   }
   ```
   </TabItem>

   <TabItem value="Python" label="Python">
   ```python
   # Use 'service' to invoke operations.
   import requests
   import json

   url = 'https://iam.cloud.ibm.com/identity/token'
   api_key = 'MY_APIKEY'
   headers = {
    'Content-Type': 'application/x-www-form-urlendcoded',
   }
   data = f'grant_type=urn:ibm:params:oauth:grant-type:apikey&apikey={api_key}'
   response = requests.post(url, headers=headers, data=data)

   # Bearer token to authorize requests to the REST API
   bearer_token = response.json()['access_token']
   ```
   </TabItem>
</Tabs>

### 2. Choose an authentication method

Choose the appropriate authentication method, depending on your working environment:

* [Create an environment variable for your API key (trusted Python environments)](#environment_variable)
* [Use your API key directly (untrusted environment)](/docs/guides/cloud-setup-untrusted#rest-untrusted)

<span id="environment_variable"></span>
#### Create an environment variable (trusted environment)

1. To set the IQP_API_TOKEN environment variable in your system, you can add the following line to your shell profile (for example, .bashrc or .zshrc) or by setting it directly in your terminal:

    ```shell
    export IQP_API_TOKEN=<your-API_KEY> # Use the 44-character API_KEY you created and saved from the IBM Quantum Platform Home dashboard
    ```
    When you invoke the environment variable in your code, include `import os`, as in this example:

    ```python
    import os
    api_token = os.environ['IQP_API_TOKEN']
    ```
    Note that when creating an environment variable, your API key is still stored locally in plain text, and should be safeguarded.

1. Authenticate requests to the Qiskit Runtime REST API by including the instance CRN and bearer token to the request's headers.
   <Admonition type="note" title="What is an instance?">
   [_Instances_](/guides/docs/instances) are virtual servers that manage the execution of your workloads, including executing quantum programs and classical compute tasks (such as processing error mitigation).  Instances must be specified in the request header by their *Cloud Resource Name* (CRN).

   You can see the instances you have access to on the dashboard, or by clicking the "Instances" tab from the dashboard. Each instance is listed with its CRN identifier. You will need to include this identifier in the header for most of your requests to the REST API.
   </Admonition>
```bash
curl -X 'GET' \
   'https://quantum.cloud.ibm.com/api/v1/usage' \
   '-H accept: application/json' \
   '-H authorization: Bearer <BEARER_TOKEN>' \
   '-H Service-CRN: <INSTANCE_CRN>'
```

### 3. Optional: Configure your firewall

    If necessary, use [this information](/docs/guides/quickstart-steps-org#firewall) to enable access to the IBM Quantum API endpoints.


## Next steps

<Admonition type="tip" title="Recommendations">
  -  [Overview of available plans.](plans-overview)
  -  [Configure the Qiskit SDK locally.](configure-qiskit-local)
  -  Follow the steps in [Hello world](/docs/tutorials/hello-world) to write and run a quantum program.
  -  Try a [tutorial](/docs/tutorials).
</Admonition>