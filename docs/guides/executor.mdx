---
title: Executor primitive (beta)
description: Executor is a lower-level primitive that provides more flexibility when customizing your error mitigation workflow.

---

# Executor primitive (beta)

<Admonition type="note" title="Beta release">
The Executor primitive is currently in beta and might not be stable. You are invited to test it and provide feedback by opening an issue in the [Samplomatic](https://github.com/Qiskit/samplomatic/issues) or [Qiskit Runtime](https://github.com/Qiskit/qiskit-ibm-runtime/issues) GitHub repositories.
</Admonition>

The Executor primitive and its supporting tools are designed for quantum information scientists to run utility-scale experiments that require more control and flexibility. Executor provides the ingredients to capture design intents on the client side, and shifts the costly generation of circuit variants to the server side, so that you can fine-tune error mitigation and other techniques without sacrificing performance. Executor's clear, composable model for execution workflows makes it easier to experiment with new techniques, reproduce results, and share methods.

In this initial release, Executor support focuses mostly on Pauli twirling, noise model learning and injection, and basis changes. Other support capabilities will be added gradually over time.

## Samplomatic

The Executor primitive works in the context of the [Samplomatic](https://github.com/Qiskit/samplomatic/) package, which is a library that supports customized sampling randomizations.

Samplomatic uses box instructions to reason about collections of circuit operations that should be treated as having a stable noise context, and uses annotations on boxes to allow users to declare and configure intent. Every box is a scope that owns a set of qubits, operations that act on those qubits, and a list of annotations. 

Samplomatic annotations specify *directives* and *dressings*. Directives specify what to do with the box (for example, twirl the box). Dressings are groups of parameterized gates to add to the left or right side of the box (for example, a layer of single-qubit gates).

The core type of the Samplomatic library is the `Samplex` class. This object represents a parametric probability distribution over the parameters of some template circuit, as well as other array-valued fields to use in post-processing data collected from executing the bound template circuit. Its `sample()` method is the primary interface for querying and specifying inputs and processing outputs. The various inputs and outputs of a samplex depend on many factors - for example, whether measurement twirling is present or whether noise injection is required. Usually, you will first create a circuit with dressed boxes in order to instantiate this object.

The library also provides a `generate_boxing_pass_manager()` method, which builds a [`PassManager`](/docs/api/qiskit/passmanager) that automatically groups circuit instructions into annotated boxes. With `generate_boxing_pass_manager()`, you can quickly and easily iterate on boxing strategies and circuit dressings.

## Workflow

The high-level workflow consists of three steps: 

1. Preparation - generate the target circuit and group its operations into boxes.
2. Learning step - learn the noise of the instructions you want to mitigate.
3. Execution step - execute the circuit on a backend with Executor, and analyze the results.


/* Add information about how `Samplex` and the Executor primitive are used together when executing workloads... */

## NoiseLearnerV3

## Next steps

<Admonition type="tip" title="Recommendations">
- Visit the Samplomatic documentation for [API references](https://qiskit.github.io/samplomatic/api/index.html) and guides, which include examples of the following:
    - [Dressed boxes](https://qiskit.github.io/samplomatic/guides/dressed_boxes.html)
    - [Transpiling with `generate_boxing_pass_manager()`](https://qiskit.github.io/samplomatic/guides/transpiler.html)
    - [Working with samplex inputs and outputs](https://qiskit.github.io/samplomatic/guides/samplex_io.html)
</Admonition>