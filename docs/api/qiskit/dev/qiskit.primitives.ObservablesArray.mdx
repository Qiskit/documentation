---
title: ObservablesArray (dev version)
description: API reference for qiskit.primitives.ObservablesArray in the dev version of qiskit
in_page_toc_min_heading_level: 1
python_api_type: class
python_api_name: qiskit.primitives.ObservablesArray
---

# ObservablesArray

<Class id="qiskit.primitives.ObservablesArray" isDedicatedPage={true} github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L55-L387" signature="qiskit.primitives.ObservablesArray(observables, num_qubits=None, copy=True, validate=True)" modifiers="class">
  Bases: `ShapedMixin`

  An ND-array of Hermitian observables for an `Estimator` primitive.

  Initialize an observables array.

  **Parameters**

  *   **observables** (*ObservablesArrayLike*) – An array-like of basis observable compatible objects.
  *   **copy** ([*bool*](https://docs.python.org/3/library/functions.html#bool)) – Specify the `copy` kwarg of the `object_array()` function when initializing observables.
  *   **num\_qubits** ([*int*](https://docs.python.org/3/library/functions.html#int) *| None*) – The number of qubits of the observables. If not specified, the number of qubits will be inferred from the observables. If specified, then the specified number of qubits must match the number of qubits in the observables.
  *   **validate** ([*bool*](https://docs.python.org/3/library/functions.html#bool)) – If true, coerce entries into the internal format and validate them. If false, the input should already be an array-like.

  **Raises**

  [**ValueError**](https://docs.python.org/3/library/exceptions.html#ValueError) – If `validate=True` and the input observables array is not valid.

  ## Attributes

  ### ndim

  <Attribute id="qiskit.primitives.ObservablesArray.ndim" />

  ### num\_qubits

  <Attribute id="qiskit.primitives.ObservablesArray.num_qubits">
    The number of qubits each observable acts on.
  </Attribute>

  ### shape

  <Attribute id="qiskit.primitives.ObservablesArray.shape" />

  ### size

  <Attribute id="qiskit.primitives.ObservablesArray.size" />

  ## Methods

  ### apply\_layout

  <Function id="qiskit.primitives.ObservablesArray.apply_layout" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L349-L378" signature="apply_layout(layout, num_qubits=None)">
    Apply a transpiler layout to this [`ObservablesArray`](#qiskit.primitives.ObservablesArray "qiskit.primitives.ObservablesArray").

    **Parameters**

    *   **layout** ([*TranspileLayout*](qiskit.transpiler.TranspileLayout "qiskit.transpiler.TranspileLayout")  *|*[*list*](https://docs.python.org/3/library/stdtypes.html#list)*\[*[*int*](https://docs.python.org/3/library/functions.html#int)*] | None*) – Either a [`TranspileLayout`](qiskit.transpiler.TranspileLayout "qiskit.transpiler.TranspileLayout"), a list of integers or None. If both layout and `num_qubits` are none, a deep copy of the array is returned.
    *   **num\_qubits** ([*int*](https://docs.python.org/3/library/functions.html#int) *| None*) – The number of qubits to expand the array to. If not provided then if `layout` is a [`TranspileLayout`](qiskit.transpiler.TranspileLayout "qiskit.transpiler.TranspileLayout") the number of the transpiler output circuit qubits will be used by default. If `layout` is a list of integers the permutation specified will be applied without any expansion. If layout is None, the array will be expanded to the given number of qubits.

    **Returns**

    A new [`ObservablesArray`](#qiskit.primitives.ObservablesArray "qiskit.primitives.ObservablesArray") with the provided layout applied.

    **Raises**

    [**QiskitError**](exceptions#qiskit.exceptions.QiskitError "qiskit.exceptions.QiskitError") –

    …

    **Return type**

    [ObservablesArray](#qiskit.primitives.ObservablesArray "qiskit.primitives.ObservablesArray")
  </Function>

  ### coerce

  <Function id="qiskit.primitives.ObservablesArray.coerce" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L310-L322" signature="coerce(observables)" modifiers="classmethod">
    Coerce ObservablesArrayLike into ObservableArray.

    **Parameters**

    **observables** ([*str*](https://docs.python.org/3/library/stdtypes.html#str)  *|*[*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli")  *|*[*SparsePauliOp*](qiskit.quantum_info.SparsePauliOp "qiskit.quantum_info.operators.symplectic.sparse_pauli_op.SparsePauliOp")  *|*[*SparseObservable*](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable")  *|*[*Mapping*](https://docs.python.org/3/library/typing.html#typing.Mapping)*\[*[*str*](https://docs.python.org/3/library/stdtypes.html#str)  *|*[*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli")*,* [*float*](https://docs.python.org/3/library/functions.html#float)*] | \_SupportsArray\[*[*dtype*](https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype)*\[*[*Any*](https://docs.python.org/3/library/typing.html#typing.Any)*]] | \_NestedSequence\[\_SupportsArray\[*[*dtype*](https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype)*\[*[*Any*](https://docs.python.org/3/library/typing.html#typing.Any)*]]] |* [*bool*](https://docs.python.org/3/library/functions.html#bool)  *|*[*int*](https://docs.python.org/3/library/functions.html#int)  *|*[*float*](https://docs.python.org/3/library/functions.html#float)  *|*[*complex*](https://docs.python.org/3/library/functions.html#complex)  *|*[*bytes*](https://docs.python.org/3/library/stdtypes.html#bytes) *| \_NestedSequence\[*[*bool*](https://docs.python.org/3/library/functions.html#bool)  *|*[*int*](https://docs.python.org/3/library/functions.html#int)  *|*[*float*](https://docs.python.org/3/library/functions.html#float)  *|*[*complex*](https://docs.python.org/3/library/functions.html#complex)  *|*[*str*](https://docs.python.org/3/library/stdtypes.html#str)  *|*[*bytes*](https://docs.python.org/3/library/stdtypes.html#bytes)*]*) – an object to be observables array.

    **Returns**

    A coerced observables array.

    **Return type**

    [*ObservablesArray*](#qiskit.primitives.ObservablesArray "qiskit.primitives.containers.observables_array.ObservablesArray")
  </Function>

  ### coerce\_observable

  <Function id="qiskit.primitives.ObservablesArray.coerce_observable" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L251-L308" signature="coerce_observable(observable)" modifiers="classmethod">
    Format an observable-like object into the internal format.

    **Parameters**

    **observable** ([*str*](https://docs.python.org/3/library/stdtypes.html#str)  *|*[*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli")  *|*[*SparsePauliOp*](qiskit.quantum_info.SparsePauliOp "qiskit.quantum_info.operators.symplectic.sparse_pauli_op.SparsePauliOp")  *|*[*SparseObservable*](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable")  *|*[*Mapping*](https://docs.python.org/3/library/typing.html#typing.Mapping)*\[*[*str*](https://docs.python.org/3/library/stdtypes.html#str)  *|*[*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli")*,* [*float*](https://docs.python.org/3/library/functions.html#float)*]*) – The observable-like to format.

    **Returns**

    The coerced observable.

    **Raises**

    *   [**TypeError**](https://docs.python.org/3/library/exceptions.html#TypeError) – If the input cannot be formatted because its type is not valid.
    *   [**ValueError**](https://docs.python.org/3/library/exceptions.html#ValueError) – If the input observable is invalid or empty.

    **Return type**

    [*SparseObservable*](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable")
  </Function>

  ### copy

  <Function id="qiskit.primitives.ObservablesArray.copy" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L345-L347" signature="copy()">
    Return a deep copy of the array.
  </Function>

  ### equivalent

  <Function id="qiskit.primitives.ObservablesArray.equivalent" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L324-L343" signature="equivalent(other, tol=1e-08)">
    Compute whether the observable arrays are equal within a given tolerance.

    **Parameters**

    *   **other** ([*ObservablesArray*](#qiskit.primitives.ObservablesArray "qiskit.primitives.containers.observables_array.ObservablesArray")) – Another observables array to compare with.
    *   **tol** ([*float*](https://docs.python.org/3/library/functions.html#float)) – The tolerance to provide to [`simplify`](qiskit.quantum_info.SparseObservable#simplify "qiskit.quantum_info.SparseObservable.simplify") during checking.

    **Returns**

    Whether the two observables arrays have the same shape and number of qubits, and if so, whether they are equal within tolerance.

    **Return type**

    [bool](https://docs.python.org/3/library/functions.html#bool)
  </Function>

  ### ravel

  <Function id="qiskit.primitives.ObservablesArray.ravel" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L235-L244" signature="ravel()">
    Return a new array with one dimension.

    The returned array has a [`shape`](#qiskit.primitives.ObservablesArray.shape "qiskit.primitives.ObservablesArray.shape") given by `(size, )`, where the size is the [`size`](#qiskit.primitives.ObservablesArray.size "qiskit.primitives.ObservablesArray.size") of this array.

    **Returns**

    A new flattened array.

    **Return type**

    [*ObservablesArray*](#qiskit.primitives.ObservablesArray "qiskit.primitives.containers.observables_array.ObservablesArray")
  </Function>

  ### reshape

  <Function id="qiskit.primitives.ObservablesArray.reshape" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L221-L233" signature="reshape(*shape)">
    Return a new array with a different shape.

    This results in a new view of the same arrays.

    **Parameters**

    **shape** ([*int*](https://docs.python.org/3/library/functions.html#int)  *|*[*Iterable*](https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable)*\[*[*int*](https://docs.python.org/3/library/functions.html#int)*]*) – The shape of the returned array.

    **Returns**

    A new array.

    **Return type**

    [*ObservablesArray*](#qiskit.primitives.ObservablesArray "qiskit.primitives.containers.observables_array.ObservablesArray")
  </Function>

  ### slice

  <Function id="qiskit.primitives.ObservablesArray.slice" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L204-L219" signature="slice(args: int | tuple[int, ...]) → SparseObservable" extraSignatures={["slice(args: int | slice | None | tuple[Union[int, slice, NoneType], ...]) → ObservablesArray"]}>
    Take a slice of the observables in this array.

    <Admonition title="Note" type="note">
      This method does not copy observables; modifying the returned observables will affect this instance.
    </Admonition>

    **Returns**

    A single [`SparseObservable`](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable") if an integer is given for every array axis, otherwise, a new [`ObservablesArray`](#qiskit.primitives.ObservablesArray "qiskit.primitives.ObservablesArray").
  </Function>

  ### sparse\_observables\_array

  <Function id="qiskit.primitives.ObservablesArray.sparse_observables_array" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L173-L183" signature="sparse_observables_array(copy=False)">
    Convert to a [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray) with elements of type [`SparseObservable`](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable").

    **Parameters**

    **copy** ([*bool*](https://docs.python.org/3/library/functions.html#bool)) – Whether to make a new array instance with new sparse observables as elements.

    **Returns**

    A [`numpy.ndarray`](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray) with elements of type [`SparseObservable`](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable").

    **Return type**

    [*ndarray*](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray)
  </Function>

  ### tolist

  <Function id="qiskit.primitives.ObservablesArray.tolist" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L138-L157" signature="tolist()">
    Convert to a nested list.

    Similar to Numpy’s `tolist` method, the level of nesting depends on the dimension of the observables array. In the case of dimension 0 the method returns a single observable (`dict` in the case of a weighted sum of Paulis) instead of a list.

    **Examples::**

    Return values for a one-element list vs one element:

    ```python
    >>> from qiskit.primitives.containers.observables_array import ObservablesArray
    >>> oa = ObservablesArray.coerce(["Z"])
    >>> print(type(oa.tolist()))
    <class 'list'>
    >>> oa = ObservablesArray.coerce("Z")
    >>> print(type(oa.tolist()))
    <class 'dict'>
    ```

    **Return type**

    [list](https://docs.python.org/3/library/stdtypes.html#list) | [str](https://docs.python.org/3/library/stdtypes.html#str) | [*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli") | [*SparsePauliOp*](qiskit.quantum_info.SparsePauliOp "qiskit.quantum_info.operators.symplectic.sparse_pauli_op.SparsePauliOp") | [*SparseObservable*](qiskit.quantum_info.SparseObservable "qiskit.quantum_info.SparseObservable") | [*Mapping*](https://docs.python.org/3/library/typing.html#typing.Mapping)\[[str](https://docs.python.org/3/library/stdtypes.html#str) | [*Pauli*](qiskit.quantum_info.Pauli "qiskit.quantum_info.operators.symplectic.pauli.Pauli"), [float](https://docs.python.org/3/library/functions.html#float)]
  </Function>

  ### validate

  <Function id="qiskit.primitives.ObservablesArray.validate" github="https://github.com/Qiskit/qiskit/tree/main/qiskit/primitives/containers/observables_array.py#L380-L387" signature="validate()">
    Validate the consistency in observables array.
  </Function>
</Class>

