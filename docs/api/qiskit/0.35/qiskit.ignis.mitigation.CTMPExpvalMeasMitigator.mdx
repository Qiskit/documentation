---
title: CTMPExpvalMeasMitigator
description: API reference for qiskit.ignis.mitigation.CTMPExpvalMeasMitigator
in_page_toc_min_heading_level: 1
python_api_type: class
python_api_name: qiskit.ignis.mitigation.CTMPExpvalMeasMitigator
---

# CTMPExpvalMeasMitigator

<Class id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator" isDedicatedPage={true} github="https://github.com/qiskit-community/qiskit-ignis/tree/stable/0.7/qiskit/ignis/mitigation/expval/ctmp_mitigator.py" signature="CTMPExpvalMeasMitigator(generators, rates, num_qubits=None, seed=None)" modifiers="class">
  Bases: `qiskit.ignis.mitigation.expval.base_meas_mitigator.BaseExpvalMeasMitigator`

  N-qubit CTMP measurement error mitigator.

  This class can be used with the [`qiskit.ignis.mitigation.expectation_value()`](qiskit.ignis.mitigation.expectation_value "qiskit.ignis.mitigation.expectation_value") function to apply measurement error mitigation of N-qubit measurement errors caused by one and two-body error generators. Expectation values can also be computed directly using the [`expectation_value()`](qiskit.ignis.mitigation.expectation_value "qiskit.ignis.mitigation.expectation_value") method.

  For measurement mitigation to be applied the mitigator should be calibrated using the [`qiskit.ignis.mitigation.expval_meas_mitigator_circuits()`](qiskit.ignis.mitigation.expval_meas_mitigator_circuits "qiskit.ignis.mitigation.expval_meas_mitigator_circuits") function and [`qiskit.ignis.mitigation.ExpvalMeasMitigatorFitter`](qiskit.ignis.mitigation.ExpvalMeasMitigatorFitter "qiskit.ignis.mitigation.ExpvalMeasMitigatorFitter") class with the `'CTMP'` mitigation method.

  Initialize a TensorMeasurementMitigator

  ## Methods

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-assignment-fidelity" />

  ### assignment\_fidelity

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.assignment_fidelity" signature="CTMPExpvalMeasMitigator.assignment_fidelity(qubits=None)">
    Return the measurement assignment fidelity on the specified qubits.

    The assignment fidelity on N-qubits is defined as $\sum_{x\in\{0, 1\}^n} P(x|x) / 2^n$, where $P(x|x) = \rangle x|A|x\langle$, and $A$ is the [`assignment_matrix()`](qiskit.ignis.mitigation.CTMPExpvalMeasMitigator#assignment_matrix "qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.assignment_matrix").

    **Parameters**

    **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubits being measured for operator expval.

    **Returns**

    the assignment fidelity.

    **Return type**

    float
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-assignment-matrix" />

  ### assignment\_matrix

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.assignment_matrix" signature="CTMPExpvalMeasMitigator.assignment_matrix(qubits=None)">
    Return the measurement assignment matrix for specified qubits.

    The assignment matrix is the stochastic matrix $A$ which assigns a noisy measurement probability distribution to an ideal input measurement distribution: $P(i|j) = \langle i | A | j \rangle$.

    **Parameters**

    **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubits being measured for operator expval.

    **Returns**

    the assignment matrix A.

    **Return type**

    np.ndarray
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-expectation-value" />

  ### expectation\_value

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.expectation_value" signature="CTMPExpvalMeasMitigator.expectation_value(counts, diagonal=None, qubits=None, clbits=None)">
    Compute the mitigated expectation value of a diagonal observable.

    This computes the mitigated estimator of $\langle O \rangle = \mbox{Tr}[\rho. O]$ of a diagonal observable $O = \sum_{x\in\{0, 1\}^n} O(x)|x\rangle\!\langle x|$.

    **Parameters**

    *   **counts** (`Dict`) – counts object
    *   **diagonal** (`Optional`\[`ndarray`]) – Optional, the vector of diagonal values for summing the expectation value. If `None` the the default value is $[1, -1]^\otimes n$.
    *   **qubits** (`Optional`\[`List`\[`int`]]) – Optional, the measured physical qubits the count bitstrings correspond to. If None qubits are assumed to be $[0, ..., n-1]$.
    *   **clbits** (`Optional`\[`List`\[`int`]]) – Optional, if not None marginalize counts to the specified bits.

    **Returns**

    the expectation value and standard deviation.

    **Return type**

    (float, float)

    #### Additional Information:

    The diagonal observable $O$ is input using the `diagonal` kwarg as a list or Numpy array $[O(0), ..., O(2^n -1)]$. If no diagonal is specified the diagonal of the Pauli operator :math\`O = mbox\{diag}(Z^\{otimes n}) = \[1, -1]^\{otimes n}\` is used.

    The `clbits` kwarg is used to marginalize the input counts dictionary over the specified bit-values, and the `qubits` kwarg is used to specify which physical qubits these bit-values correspond to as `circuit.measure(qubits, clbits)`.
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-generator-matrix" />

  ### generator\_matrix

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.generator_matrix" signature="CTMPExpvalMeasMitigator.generator_matrix(qubits=None)">
    Return the generator matrix on the specified qubits.

    The generator matrix $G$ is given by $\sum_i r_i G_i$ where the sum is taken over all $G_i$ acting on the specified qubits subset.

    **Parameters**

    **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubit subset for the generators.

    **Returns**

    the generator matrix $G$.

    **Return type**

    sps.coo\_matrix
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-mitigation-matrix" />

  ### mitigation\_matrix

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.mitigation_matrix" signature="CTMPExpvalMeasMitigator.mitigation_matrix(qubits=None)">
    Return the measurement mitigation matrix for the specified qubits.

    The mitigation matrix $A^{-1}$ is defined as the inverse of the [`assignment_matrix()`](qiskit.ignis.mitigation.CTMPExpvalMeasMitigator#assignment_matrix "qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.assignment_matrix") $A$.

    **Parameters**

    **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubits being measured for operator expval.

    **Returns**

    the measurement error mitigation matrix $A^{-1}$.

    **Return type**

    np.ndarray
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-mitigation-overhead" />

  ### mitigation\_overhead

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.mitigation_overhead" signature="CTMPExpvalMeasMitigator.mitigation_overhead(qubits=None)">
    Return the mitigation overhead for expectation value estimation.

    This is the multiplicative factor of extra shots required for estimating a mitigated expectation value with the same accuracy as an unmitigated expectation value.

    **Parameters**

    **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubits being measured for operator expval.

    **Returns**

    the mitigation overhead factor.

    **Return type**

    int
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-noise-strength" />

  ### noise\_strength

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.noise_strength" signature="CTMPExpvalMeasMitigator.noise_strength(qubits=None)">
    Return the noise strength $gamma$ on the specified qubits

    **Return type**

    `float`
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-plot-assignment-matrix" />

  ### plot\_assignment\_matrix

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.plot_assignment_matrix" signature="CTMPExpvalMeasMitigator.plot_assignment_matrix(qubits=None, ax=None)">
    Matrix plot of the readout error assignment matrix.

    **Parameters**

    *   **qubits** (*list(int)*) – Optional, qubits being measured for operator expval.
    *   **ax** (*axes*) – Optional. Axes object to add plot to.

    **Returns**

    the figure axes object.

    **Return type**

    plt.axes

    **Raises**

    **ImportError** – if matplotlib is not installed.
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-plot-mitigation-matrix" />

  ### plot\_mitigation\_matrix

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.plot_mitigation_matrix" signature="CTMPExpvalMeasMitigator.plot_mitigation_matrix(qubits=None, ax=None)">
    Matrix plot of the readout error mitigation matrix.

    **Parameters**

    *   **qubits** (*list(int)*) – Optional, qubits being measured for operator expval.
    *   **ax** (*plt.axes*) – Optional. Axes object to add plot to.

    **Returns**

    the figure axes object.

    **Return type**

    plt.axes

    **Raises**

    **ImportError** – if matplotlib is not installed.
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-required-shots" />

  ### required\_shots

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.required_shots" signature="CTMPExpvalMeasMitigator.required_shots(delta, qubits=None)">
    Return the number of shots required for expectation value estimation.

    This is the number of shots required so that $|\langle O \rangle_{est} - \langle O \rangle_{true}| < \delta$ with high probability (at least 2/3) and is given by $4\delta^2 \Gamma^2$ where $\Gamma^2$ is the [`mitigation_overhead()`](qiskit.ignis.mitigation.CTMPExpvalMeasMitigator#mitigation_overhead "qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.mitigation_overhead").

    **Parameters**

    *   **delta** (`float`) – Error tolerance for expectation value estimator.
    *   **qubits** (`Optional`\[`List`\[`int`]]) – Optional, qubits being measured for operator expval.

    **Returns**

    the required shots.

    **Return type**

    int
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-seed" />

  ### seed

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.seed" signature="CTMPExpvalMeasMitigator.seed(value=None)">
    Set the seed for the quantum state RNG.
  </Function>

  <span id="qiskit-ignis-mitigation-ctmpexpvalmeasmitigator-stddev-upper-bound" />

  ### stddev\_upper\_bound

  <Function id="qiskit.ignis.mitigation.CTMPExpvalMeasMitigator.stddev_upper_bound" signature="CTMPExpvalMeasMitigator.stddev_upper_bound(shots=1, qubits=None)">
    Return an upper bound on standard deviation of expval estimator.

    **Parameters**

    *   **shots** (`int`) – Number of shots used for expectation value measurement.
    *   **qubits** (`Optional`\[`List`\[`int`]]) – qubits being measured for operator expval.

    **Returns**

    the standard deviation upper bound.

    **Return type**

    float
  </Function>
</Class>

