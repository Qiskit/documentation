---
title: Cirucit Library (dev version)
description: API reference for Cirucit Library in the dev version of qiskit-c
in_page_toc_min_heading_level: 2
python_api_type: module
python_api_name: Cirucit Library
---

# Cirucit Library

The Qiskit circuit library contains functions for building commonly used quantum circuits.

## Functions

### qk\_circuit\_library\_iqp

<Function id="qk_circuit_library_iqp" signature="QkCircuit *qk_circuit_library_iqp(uint32_t num_qubits, const int64_t *interactions, bool check_input)">
  Generate an Instantaneous Quantum Polynomial (IQP) circuit from an integer interaction matrix.

  The `interactions` matrix is interpreted as an `n × n` row-major array of 64-bit integers, where `n = num_qubits`. The diagonal entries set T-like phase powers, and the upper triangle encodes two-qubit CPhase interactions.

  <span id="group__QkCircuitLibrary_1autotoc_md53" />

  #### Safety

  <span id="group__QkCircuitLibrary_1autotoc_md53" />

  If `num_qubits > 0`, `interactions` **must** be a valid, non-null pointer to at least `num_qubits * num_qubits` contiguous `int64_t` values in row-major order. The memory pointed to by `interactions` must be properly aligned, readable for the duration of this call, and not mutably aliased. Passing an invalid pointer or a buffer that is too small results in undefined behaviour.

  **Parameters**

  *   **num\_qubits** – Number of logical qubits (`n`). Must match the dimension of the `interactions` matrix.
  *   **interactions** – Pointer to a row-major `n × n` matrix of type `int64_t`. May be NULL only if `num_qubits == 0`.
  *   **check\_input** – When `true`, this function verifies that the matrix is symmetric and returns `NULL` if it is not. When `false`, no additional validation is performed.

  **Returns**

  A newly allocated `QkCircuit*` on success (caller must free with `qk_circuit_free`), or `NULL` if `num_qubits > 0` and `interactions` is `NULL`, or if `check_input` is `true` and the matrix is not symmetric.
</Function>

### qk\_circuit\_library\_random\_iqp

<Function id="qk_circuit_library_random_iqp" signature="QkCircuit *qk_circuit_library_random_iqp(uint32_t num_qubits, int64_t seed)">
  Generate a random Instantaneous Quantum Polynomial (IQP) circuit.

  This constructs a random symmetric integer interaction matrix internally and uses it to build an IQP circuit, mirroring the Python `qiskit.circuit.library.IQP` constructor.

  **Parameters**

  *   **num\_qubits** – Number of qubits.
  *   **seed** – RNG seed. If negative, entropy is drawn from the OS; otherwise, the given value is used as a deterministic seed.

  **Returns**

  A newly allocated `QkCircuit*` (caller must free with `qk_circuit_free`).
</Function>

### qk\_circuit\_library\_quantum\_volume

<Function id="qk_circuit_library_quantum_volume" signature="QkCircuit *qk_circuit_library_quantum_volume(uint32_t num_qubits, size_t depth, int64_t seed)">
  Generate a Quantum Volume model circuit

  The model circuits are random instances of circuits used to measure the Quantum Volume metric, as introduced in \[1]. The model circuits consist of layers of Haar random elements of SU(4) applied between corresponding pairs of qubits in a random bipartition.

  This function is multithreaded and will launch a thread pool with threads equal to the number of CPUs by default. You can tune the number of threads with the RAYON\_NUM\_THREADS environment variable. For example, setting RAYON\_NUM\_THREADS=4 would limit the thread pool to 4 threads.

  \[1] A. Cross et al. Validating quantum computers using randomized model circuits, Phys. Rev. A 100, 032328 (2019). [arXiv:1811.12926](https://arxiv.org/abs/1811.12926)

  <span id="group__QkCircuitLibrary_1autotoc_md54" />

  #### Example

  ```c
  QkCircuit *qc = qk_circuit_library_quantum_volume(10, 10, -1)
  ```

  **Parameters**

  *   **num\_qubits** – The number qubits to use for the generated circuit.
  *   **depth** – The number of layers for the generated circuit.
  *   **seed** – An RNG seed used for generating the random SU(4) matrices used in the output circuit. If the provided number is negative the seed used will be soured from system entropy.

  **Returns**

  A pointer to the quantum volume circuit.
</Function>

